<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Guided meditation practice inspired by 'Churning the Ocean Within' by Millie Jess.">
    <meta name="keywords" content="guided meditation, breathing exercise, Om chanting, Solfeggio frequencies, mindfulness">
    <meta name="author" content="Millie Jess">
    <title>Churning the Ocean Within - Practice</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="menu-toggle">â˜°</div>
        <div class="logo">
            <h1>Churning the Ocean Within</h1>
            <h2>A Journey to Power, Wisdom, and Success</h2>
        </div>
        <nav class="nav-menu">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="practice.html">Practice</a></li>
                <li><a href="mood-tracker.html">Mood Tracker</a></li>
                <li><a href="journal.html">Journal</a></li>
                <li><a href="wisdom.html">Wisdom</a></li>
                <li><a href="book.html">Book</a></li>
                <li><a href="share.html">Share</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="welcome-section">
            <div class="welcome-text">
                <h3>Begin Your Meditation Practice</h3>
                <p>Engage in the Samudra Manthan technique to churn your inner ocean and unlock wisdom.</p>
                <a href="#practice-content" class="cta-button">Start Now</a>
            </div>
            <div class="book-cover-section">
                <img src="book-cover.jpg" alt="Churning the Ocean Within Book Cover" class="book-cover">
                <a href="book.html" class="cta-button">Learn More in My Book</a>
            </div>
        </section>
        <section id="practice-content" class="meditation-container">
            <div class="technique-description">
                You are practicing the ancient technique of Churning the Ocean Within (Samudra Manthan).
            </div>

            <div class="self-discovery-guide">
                <h4>Identify Your Samudra Manthan Elements</h4>
                <p>Before you begin, reflect on the components of your inner journey. Use the prompts below to identify your mind and its qualities:</p>
                <ul>
                    <li><strong>Inner Ocean (Mind):</strong> What is the state of your mind today? (e.g., calm, turbulent) [Add examples here]</li>
                    <li><strong>Mount Mandara (Anchor):</strong> What grounds you? (e.g., a value, goal) [Add examples here]</li>
                    <li><strong>Vasuki (Energy):</strong> How do you feel your energy flowing? (e.g., balanced, strained) [Add examples here]</li>
                    <li><strong>Devas (Positive Qualities):</strong> What strengths shine through? (e.g., kindness, focus) [Add examples here]</li>
                    <li><strong>Asuras (Negative Emotions):</strong> What challenges arise? (e.g., fear, doubt) [Add examples here]</li>
                    <li><strong>Halahal (Toxic Emotions):</strong> What negativity needs release? (e.g., anger) [Add examples here]</li>
                    <li><strong>Treasures (Opportunities):</strong> What potential do you see? (e.g., resilience) [Add examples here]</li>
                    <li><strong>Amrit (Wisdom):</strong> What is your ultimate goal? (e.g., peace) [Add examples here]</li>
                    <li><strong>Mohini (Conscience):</strong> How will you stay grounded in success? (e.g., humility) [Add examples here]</li>
                    <li><strong>Rahu/Ketu (Shadows):</strong> What doubts or desires linger? (e.g., greed) [Add examples here]</li>
                </ul>
                <textarea id="elementReflection" placeholder="Write your reflections here..."></textarea>
                <button onclick="saveElements()" class="cta-button">Save Your Insights</button>
                <p id="elementFeedback"></p>
            </div>

            <h3>Guided Meditation</h3>
            <div class="visualization">
                <div class="ocean-background"></div>
                <div class="mountain"></div>
                <div class="serpent"></div>
                <div class="turtle"></div>
                <div class="treasure"></div>
                <div class="poison"></div>
            </div>
            <input type="text" id="goalInput" placeholder="Set your goal/intention (Mount Mandara)">
            <button onclick="startMeditation()" class="cta-button">Start Churning</button>
            <div class="breath-animation"></div>
            <p id="breathingGuidance">Breathe In</p>
            <div class="music-controls">
                <select class="frequency-select" id="frequencySelect">
                    <option value="none">Silent</option>
                    <option value="om">Om Chanting</option>
                    <option value="174">174Hz</option>
                    <option value="285">285Hz</option>
                    <option value="396">396Hz</option>
                    <option value="417">417Hz</option>
                    <option value="528">528Hz</option>
                    <option value="639">639Hz</option>
                    <option value="741">741Hz</option>
                    <option value="852">852Hz</option>
                    <option value="963">963Hz</option>
                </select>
                <button id="playButton" class="cta-button">Play</button>
                <button id="muteButton" class="cta-button">Mute</button>
            </div>
            <div id="meditationSteps"></div>
            <div id="eventDescription"></div>
            <a href="book.html" class="buy-button book-cta" style="display: none;">Excited? Buy the Book for More Wisdom!</a>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Millie Jess. All rights reserved. | <a href="contact.html">Connect with Millie</a></p>
    </footer>

    <audio id="oceanSound" src="path/to/ocean-waves.mp3" loop></audio>
    <audio id="bellSound" src="path/to/soft-bell.mp3"></audio>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggle = document.querySelector('.menu-toggle');
            const menu = document.querySelector('.nav-menu');
            if (toggle && menu) {
                toggle.addEventListener('click', () => {
                    menu.classList.toggle('active');
                });
            }

            let audio = new Audio('path/to/om.mp3'); // Replace with actual paths
            let isPlaying = false;
            let isMuted = false;

            const audioSources = {
                'none': '',
                'om': 'path/to/om-chanting.mp3',
                '174': 'path/to/174hz.mp3',
                '285': 'path/to/285hz.mp3',
                '396': 'path/to/396hz.mp3',
                '417': 'path/to/417hz.mp3',
                '528': 'path/to/528hz.mp3',
                '639': 'path/to/639hz.mp3',
                '741': 'path/to/741hz.mp3',
                '852': 'path/to/852hz.mp3',
                '963': 'path/to/963hz.mp3'
            };

            document.getElementById('playButton').addEventListener('click', () => {
                const freq = document.getElementById('frequencySelect').value;
                if (freq !== 'none' && !isPlaying) {
                    audio.src = audioSources[freq];
                    audio.play();
                    isPlaying = true;
                }
            });

            document.getElementById('muteButton').addEventListener('click', () => {
                isMuted = !isMuted;
                audio.muted = isMuted;
                document.getElementById('muteButton').textContent = isMuted ? 'Unmute' : 'Mute';
            });

            document.getElementById('frequencySelect').addEventListener('change', (e) => {
                audio.pause();
                isPlaying = false;
                const freq = e.target.value;
                if (freq !== 'none') {
                    audio.src = audioSources[freq];
                    if (!isMuted) audio.play();
                    isPlaying = true;
                }
            });

            // Meditation flow
            const steps = [
                "Step 1: Set your determination (Mount Mandara) - Enter your goal.",
                "Step 2: Engage your inner energy (Vasuki) - Focus on the push-pull of breath.",
                "Step 3: Stabilize with faith (Kurma) - Remain steady.",
                "Step 4: Acknowledge positive and negative thoughts (Devas & Asuras).",
                "Step 5: Release negativity (Halahal).",
                "Step 6: Discover treasures (Strengths).",
                "Step 7: Attain wisdom (Amrit).",
                "Step 8: Avoid distractions (Mohini)."
            ];

            window.startMeditation = function() {
                const goal = document.getElementById('goalInput').value;
                if (!goal) {
                    alert('Please set a goal.');
                    return;
                }

                document.getElementById('oceanSound').play();
                let stepIndex = 0;
                const stepsDiv = document.getElementById('meditationSteps');
                stepsDiv.textContent = steps[stepIndex];

                const interval = setInterval(() => {
                    stepIndex++;
                    if (stepIndex < steps.length) {
                        stepsDiv.textContent = steps[stepIndex];
                        if (stepIndex === 4) showPoison();
                        if (stepIndex === 5) showTreasure();
                    } else {
                        clearInterval(interval);
                        completeSession();
                    }
                }, 10000); // 10 seconds per step

                // Breathing guidance
                let inhale = true;
                setInterval(() => {
                    document.getElementById('breathingGuidance').textContent = inhale ? 'Inhale' : 'Exhale';
                    inhale = !inhale;
                }, 4000); // 4 seconds per breath
            }

            function showPoison() {
                const poison = document.querySelector('.poison');
                poison.style.display = 'block';
                document.getElementById('eventDescription').textContent = 'A poison (negativity) has appeared. Acknowledge it.';
                setTimeout(() => {
                    poison.style.display = 'none';
                    increment('poisonsAcknowledged');
                }, 5000);
            }

            function showTreasure() {
                const treasure = document.querySelector('.treasure');
                treasure.style.display = 'block';
                document.getElementById('eventDescription').textContent = 'A treasure (strength) has emerged. Discover it.';
                setTimeout(() => {
                    treasure.style.display = 'none';
                    increment('treasuresDiscovered');
                }, 5000);
                document.getElementById('bellSound').play();
            }

            function increment(key) {
                let value = parseInt(localStorage.getItem(key) || '0') + 1;
                localStorage.setItem(key, value);
            }

            function completeSession() {
                increment('sessionsCompleted');
                increment('wisdomLevel');
                alert('Session completed! Treasure earned.');
                document.getElementById('bellSound').play();
                document.querySelector('.book-cta').style.display = 'block'; // Show book CTA for excitement
            }

            window.saveElements = function() {
                const reflection = document.getElementById('elementReflection').value;
                if (reflection) {
                    localStorage.setItem('elementReflection', reflection);
                    document.getElementById('elementFeedback').textContent = 'Elements identified! Begin your meditation.';
                    document.getElementById('elementReflection').value = ''; // Clear input
                }
            }
        });
    </script>
</body>
</html>
